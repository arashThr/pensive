<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Pensive Extension Settings</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'IBM Plex Sans', sans-serif;
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
        color: #f1f5f9;
        line-height: 1.5;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
      }

      /* Kandinsky floating circles */
      body::before {
        content: '';
        position: fixed;
        top: 10%;
        left: 5%;
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, rgba(251, 146, 60, 0.15), rgba(239, 68, 68, 0.15));
        border-radius: 50%;
        filter: blur(2px);
        animation: float 10s ease-in-out infinite;
        z-index: 1;
        pointer-events: none;
      }

      body::after {
        content: '';
        position: fixed;
        bottom: 15%;
        right: 10%;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, rgba(168, 85, 247, 0.12), rgba(59, 130, 246, 0.12));
        border-radius: 50%;
        filter: blur(1px);
        animation: float-delayed 8s ease-in-out infinite;
        z-index: 1;
        pointer-events: none;
      }

      @keyframes float {
        0%, 100% { transform: translateY(0px) scale(1) rotate(0deg); }
        50% { transform: translateY(-20px) scale(1.1) rotate(180deg); }
      }

      @keyframes float-delayed {
        0%, 100% { transform: translateY(0px) scale(1) rotate(0deg); }
        50% { transform: translateY(15px) scale(0.9) rotate(-180deg); }
      }

      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 32px 24px;
        position: relative;
        z-index: 10;
      }

      .card {
        background: rgba(71, 85, 105, 0.4);
        border: 1px solid rgba(100, 116, 139, 0.3);
        border-radius: 12px;
        padding: 32px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(16px);
      }

      /* Header */
      .header {
        display: flex;
        align-items: center;
        margin-bottom: 32px;
        padding-bottom: 16px;
        border-bottom: 1px solid rgba(100, 116, 139, 0.3);
      }

      .header-icon {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 16px;
      }

      .header h1 {
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
      }

      /* Status */
      .status {
        display: flex;
        align-items: center;
        padding: 16px;
        margin-bottom: 24px;
        font-weight: 600;
        font-size: 0.875rem;
        border: 1px solid rgba(100, 116, 139, 0.3);
        border-radius: 8px;
        backdrop-filter: blur(8px);
      }

      .status-icon {
        width: 20px;
        height: 20px;
        margin-right: 12px;
      }

      .status.connected {
        background: rgba(34, 197, 94, 0.1);
        color: #86efac;
        border-color: rgba(34, 197, 94, 0.3);
      }

      .status.disconnected {
        background: rgba(251, 146, 60, 0.1);
        color: #fbbf24;
        border-color: rgba(251, 146, 60, 0.3);
      }

      /* Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        padding: 12px 24px;
        font-weight: 600;
        text-decoration: none;
        border: 1px solid rgba(100, 116, 139, 0.3);
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.875rem;
        font-family: 'IBM Plex Sans', sans-serif;
        transition: all 0.2s;
        backdrop-filter: blur(8px);
      }

      .btn-primary {
        background: linear-gradient(135deg, #f97316, #dc2626);
        color: white;
        border-color: rgba(249, 115, 22, 0.3);
        box-shadow: 0 2px 8px rgba(249, 115, 22, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 16px rgba(249, 115, 22, 0.4);
      }

      .btn-secondary {
        background: rgba(71, 85, 105, 0.4);
        color: #e2e8f0;
        border-color: rgba(100, 116, 139, 0.3);
      }

      .btn-secondary:hover {
        background: rgba(71, 85, 105, 0.6);
        border-color: rgba(251, 146, 60, 0.3);
      }

      .btn-danger {
        background: rgba(239, 68, 68, 0.2);
        color: #fca5a5;
        border-color: rgba(239, 68, 68, 0.3);
        box-shadow: 0 2px 8px rgba(239, 68, 68, 0.2);
      }

      .btn-danger:hover {
        background: rgba(239, 68, 68, 0.3);
        border-color: rgba(239, 68, 68, 0.4);
        transform: translateY(-1px);
      }

      .btn:disabled {
        background: rgba(156, 163, 175, 0.3);
        cursor: not-allowed;
        color: #94a3b8;
        opacity: 0.6;
      }

      /* Auth Actions */
      .auth-actions {
        display: flex;
        gap: 12px;
        margin-bottom: 32px;
      }

      /* Info Sections */
      .info-section {
        background: rgba(30, 41, 59, 0.6);
        border: 1px solid rgba(100, 116, 139, 0.3);
        border-radius: 8px;
        padding: 24px;
        margin-bottom: 24px;
        backdrop-filter: blur(8px);
      }

      .info-section h3 {
        font-size: 1rem;
        font-weight: 600;
        color: white;
        margin-bottom: 16px;
      }

      .info-section p {
        font-size: 0.875rem;
        color: #94a3b8;
        margin-bottom: 8px;
      }

      .info-section p:last-child {
        margin-bottom: 0;
      }

      /* User Info */
      #user-info h3::before {
        content: '';
        margin-right: 0px;
      }

      #user-info p {
        background: rgba(71, 85, 105, 0.4);
        border: 1px solid rgba(100, 116, 139, 0.3);
        border-radius: 6px;
        padding: 12px;
        color: #e2e8f0;
        font-weight: 600;
        backdrop-filter: blur(8px);
      }

      .subscription-premium {
        color: #86efac !important;
        background: rgba(34, 197, 94, 0.1) !important;
        border-color: rgba(34, 197, 94, 0.3) !important;
      }

      .subscription-free {
        color: #fbbf24 !important;
        background: rgba(251, 146, 60, 0.1) !important;
        border-color: rgba(251, 146, 60, 0.3) !important;
      }

      /* Website Link */
      .website-link {
        text-align: center;
        margin-bottom: 24px;
      }

      .website-link h3 {
        font-size: 1rem;
        font-weight: 600;
        color: white;
        margin-bottom: 8px;
      }

      .website-link p {
        color: #94a3b8;
        margin-bottom: 16px;
      }

      .website-link a {
        color: #fb923c;
        text-decoration: underline;
        font-weight: 600;
        transition: color 0.2s;
      }

      .website-link a:hover {
        color: #f97316;
        text-decoration: underline;
      }

      /* Advanced Settings */
      .advanced-settings {
        margin-top: 32px;
        padding-top: 24px;
        border-top: 1px solid rgba(100, 116, 139, 0.3);
      }

      .advanced-settings h2 {
        font-size: 1.125rem;
        font-weight: 600;
        color: white;
        margin-bottom: 20px;
      }

      /* Toggle Options */
      .toggle-section {
        margin-bottom: 24px;
      }

      .toggle-option {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 16px;
        border: 1px solid rgba(100, 116, 139, 0.3);
        border-radius: 8px;
        background: rgba(71, 85, 105, 0.4);
        transition: background-color 0.2s;
        backdrop-filter: blur(8px);
      }

      .toggle-option:hover {
        background: rgba(71, 85, 105, 0.6);
        border-color: rgba(251, 146, 60, 0.3);
      }

      .toggle-label {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        cursor: pointer;
        width: 100%;
        gap: 20px;
      }

      .toggle-content {
        flex: 1;
      }

      .toggle-title {
        font-weight: 600;
        color: white;
        margin-bottom: 4px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .toggle-desc {
        font-size: 0.875rem;
        color: #94a3b8;
        line-height: 1.4;
      }

      .toggle-switch {
        flex-shrink: 0;
        margin-top: 2px;
      }

      .toggle-input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
        height: 0;
        width: 0;
      }

      .toggle-slider {
        position: relative;
        display: inline-block;
        width: 54px;
        height: 28px;
        background: rgba(100, 116, 139, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.3);
        border-radius: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .toggle-slider::before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 2px;
        top: 2px;
        background: #ffffff;
        border-radius: 50%;
        box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
        transition: transform 0.2s ease;
      }

      .toggle-input:checked + .toggle-slider {
        background: linear-gradient(135deg, #f97316, #dc2626);
        border-color: rgba(249, 115, 22, 0.5);
      }

      .toggle-input:checked + .toggle-slider::before {
        transform: translateX(24px);
      }

      .toggle-slider:hover {
        background: rgba(148, 163, 184, 0.4);
      }

      .toggle-input:checked + .toggle-slider:hover {
        background: linear-gradient(135deg, #ea580c, #b91c1c);
      }

      .recommended-tag {
        background: rgba(59, 130, 246, 0.1);
        color: #93c5fd;
        padding: 2px 8px;
        border: 1px solid rgba(59, 130, 246, 0.3);
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        backdrop-filter: blur(8px);
      }

      /* Utility Classes */
      .hidden {
        display: none;
      }

      .mb-0 {
        margin-bottom: 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="card">
        <!-- Header -->
        <div class="header">
          <div class="header-icon">
            <img src="logo.svg" alt="Chrome" style="width: 32px; height: 32px;">
          </div>
          <h1>Pensive Extension Settings</h1>
        </div>
        
        <!-- Connection Status -->
        <div id="status" class="status disconnected">
          <svg class="status-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-2.694-.833-3.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z" />
          </svg>
          <span>Not connected to Pensive</span>
        </div>

        <!-- Authentication Actions -->
        <div id="auth-section" class="auth-actions">
          <button id="connect-button" class="btn btn-primary">
            Connect to Pensive
          </button>
          <button id="signout-button" class="btn btn-danger hidden">
            Sign Out
          </button>
        </div>

        <!-- User Information -->
        <div id="user-info" class="info-section hidden">
          <h3>Account Information</h3>
          <p id="user-email">Email: N/A</p>
          <p id="user-subscription">Subscription: N/A</p>
        </div>

        <!-- Website Link -->
        <div class="info-section website-link">
          <h3>New to Pensive?</h3>
          <p>Build your own searchable memory of the web. Save and index everything you read online.</p>
          <a href="https://getpensive.com" target="_blank">Visit getpensive.com â†’</a>
        </div>

        <!-- Usage Instructions -->
        <div class="info-section">
          <h3>Quick Start:</h3>
          <p><strong>1.</strong> Connect your account by clicking "Connect to Pensive" above</p>
          <p><strong>2.</strong> Click the Pensive icon on any page to save it to your library</p>
          <p><strong>3.</strong> Search your saved content anytime at getpensive.com</p>
        </div>

        <!-- Server Configuration -->
        <div class="advanced-settings">
          <h2>Server Configuration</h2>
          <div class="toggle-section">
            <div class="toggle-option">
              <label class="toggle-label">
                <div class="toggle-content">
                  <div class="toggle-title">
                    Use custom server
                  </div>
                  <p class="toggle-desc">Enable this to connect to your own self-hosted Pensive instance instead of the default server.</p>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="customServerToggle" class="toggle-input">
                  <span class="toggle-slider"></span>
                </div>
              </label>
            </div>
          </div>

          <div id="customServerConfig" class="info-section" style="display: none; margin-top: 16px;">
            <h3>Server Address</h3>
            <p style="margin-bottom: 12px; color: #94a3b8; font-size: 0.875rem;">Enter the URL of your self-hosted Pensive server (e.g., https://pensive.yourdomain.com)</p>
            <input type="text" id="customServerUrl" placeholder="https://pensive.yourdomain.com" style="width: 100%; padding: 12px; background: rgba(71, 85, 105, 0.4); border: 1px solid rgba(100, 116, 139, 0.3); border-radius: 6px; color: #e2e8f0; font-family: 'IBM Plex Sans', sans-serif; font-size: 0.875rem; backdrop-filter: blur(8px);">
            <button id="saveServerUrl" class="btn btn-primary" style="margin-top: 12px; width: 100%;">Save Server URL</button>
            <p id="serverUrlStatus" style="margin-top: 8px; font-size: 0.875rem; display: none;"></p>
          </div>
        </div>

        <!-- Content Capture Settings -->
        <div class="advanced-settings" style="margin-top: 32px;">
          <h2>Content Capture Settings</h2>
          <div class="toggle-section">
            <div class="toggle-option">
              <label class="toggle-label">
                <div class="toggle-content">
                  <div class="toggle-title">
                    Full page content capture
                    <span class="recommended-tag">Recommended</span>
                  </div>
                  <p class="toggle-desc">When enabled, captures HTML content for better searchability and content preservation. Works best on sites with complex layouts, like forums. When disabled, only sends the URL to our servers (may not work on sites with paywalls).</p>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="fullPageCaptureToggle" class="toggle-input">
                  <span class="toggle-slider"></span>
                </div>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="options.js"></script>
  </body>
</html>